<!DOCTYPE html>
<html lang="en">

@@include('./components/_head.html',{ "title":"Главная", })

<body>
  <div class="wrapper">
    @@include('./components/_header.html')

    <main class="main">
      <div class="container">
        <!-- Main banner -->
        <section class="row row-gap-4 mt-4">
          <div class="col-12 col-lg-7 d-flex">
            <div class="main-banner">
              <div class="d-flex flex-column gap-3">
                <div class="main-banner__text">
                  <p class="main-banner__title">Клиентская поддержка системы контроля кассового оборудования</p>
                  <p>
                    СККО обеспечивает автоматизированный контроль расчетов, проводимых через кассовые аппараты, в режиме реального времени
                  </p>
                </div>
                <div class="d-flex gap-3 flex-wrap flex-lg-nowrap">
                  <a href="https://new.ckta.by/" class="btn-default mobile-w-100">
                    Войти
                  </a>
                  <a href="https://new.ckta.by/" class="btn-empty mobile-w-100">
                    Портал самообслуживания
                  </a>
                </div>
                <div class="d-flex gap-2 align-items-center justify-content-between me-3">
                  <img class="main-banner__img" src="./img/main-banner/banner-img-1.png" alt="">
                  <img class="main-banner__img d-none d-md-flex d-lg-none d-xxl-flex" src="./img/main-banner/banner-img-2.png" alt="">
                </div>
              </div>

            </div>
          </div>
          <div class="col-12 col-lg-5 d-flex">
            <div class="d-flex flex-column gap-3">
              <a href="" class="activity-block activity-block-lg bg-gray-base">
                <div class="activity-block-title activity-block-title-violet align-items-center">
                  <div class="d-flex flex-row gap-2 align-items-center">
                    <div class="activity-block-title__icon bg-violet">
                      <img src="./img/icons/document-text.svg" alt="">
                    </div>
                    <span class="activity-block-title__text">Для пользователей кассового оборудования - документация для подключения</span>
                  </div>
                </div>
              </a>
              <a href="" class="activity-block activity-block-lg bg-gray-base">
                <div class="activity-block-title activity-block-title-violet align-items-center">
                  <div class="d-flex flex-row gap-2 align-items-center">
                    <div class="activity-block-title__icon bg-violet">
                      <img src="./img/icons/kassa.svg" alt="">
                    </div>
                    <span class="activity-block-title__text">Информация об операторах программных кассовых систем, программных кассовых системах и программных
                      кассах</span>
                  </div>
                </div>
              </a>
              <a href="" class="activity-block activity-block-lg bg-gray-base">
                <div class="activity-block-title activity-block-title-violet align-items-center">
                  <div class="d-flex flex-row gap-2 align-items-center">
                    <div class="activity-block-title__icon bg-violet">
                      <img src="./img/icons/diagram-2.svg" alt="">
                    </div>
                    <span class="activity-block-title__text">Алгоритм подключения кассового оборудования к СККО</span>
                  </div>
                </div>
              </a>
              <a href="" class="activity-block activity-block-lg bg-gray-base">
                <div class="activity-block-title activity-block-title-violet align-items-center">
                  <div class="d-flex flex-row gap-2 align-items-center">
                    <div class="activity-block-title__icon bg-violet">
                      <img src="./img/icons/diagram-3.svg" alt="">
                    </div>
                    <span class="activity-block-title__text">Алгоритм подключения программной кассы к СККО</span>
                  </div>
                </div>
              </a>
              <a href="" class="activity-block activity-block-lg bg-gray-base">
                <div class="activity-block-title activity-block-title-violet align-items-center">
                  <div class="d-flex flex-row gap-2 align-items-center">
                    <div class="activity-block-title__icon bg-violet">
                      <img src="./img/icons/qr-code.svg" alt="">
                    </div>
                    <span class="activity-block-title__text">Информация для субъектов хозяйствования осуществляющих передачу данных в СККО о товарах, подлежащих
                      маркировке</span>
                  </div>
                </div>
              </a>
            </div>
          </div>

        </section>
        <!-- News -->
        <section class="mt-120">
          <div class="d-flex flex-row justify-content-between align-items-center flex-wrap gap-2">
            <h2 class="block-title">новости</h2>
            <a href="/" class="link-default link-default-arrow">Все новости</a>
          </div>
          <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 row-gap-4 mt-32">
            <div class="col">
              <div class="news-card">
                <p class="news-card__title mb-0 fs-18 ff-exo fw-semibold">
                  Информируем об изменении контактного телефона службы информационно-справочной поддержки
                </p>
                <p class="news-card__date">
                  24.10.2024
                </p>
              </div>
            </div>
            <div class="col">
              <div class="news-card">
                <p class="news-card__title mb-0 fs-18 ff-exo fw-semibold">
                  Информируем об изменении контактного телефона службы информационно-справочной поддержки
                </p>
                <p class="news-card__date">
                  24.10.2024
                </p>
              </div>
            </div>
            <div class="col">
              <div class="news-card">
                <p class="news-card__title mb-0 fs-18 ff-exo fw-semibold">
                  Информируем об изменении контактного телефона службы информационно-справочной поддержки
                </p>
                <p class="news-card__date">
                  24.10.2024
                </p>
              </div>
            </div>
            <div class="col">
              <div class="news-card">
                <p class="news-card__title mb-0 fs-18 ff-exo fw-semibold">
                  Информируем об изменении контактного телефона службы информационно-справочной поддержки
                </p>
                <p class="news-card__date">
                  24.10.2024
                </p>
              </div>
            </div>
          </div>
        </section>
        <!-- New on site -->
        <section class="mt-120">
          <div class="new-on-site">
            <div class="d-flex flex-row justify-content-between align-items-center flex-wrap gap-2">
              <h2 class="block-title">
                Новое на портале
              </h2>
              <a href="new-on-site-detail.html" class="link-default link-default-arrow">
                Подробнее
              </a>
            </div>
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 row-gap-4 mt-32">
              <div class="col">
                <a href="" rel="noopener noreferrer" class="new-on-site__card w-100">
                  <div class="new-on-site__img">
                    <img src="./img/new-on-site/img1.png" alt="">
                  </div>

                  <p class="new-on-site__text">
                    «О переходе с 1 июля 2025 года на использование кассового оборудования, соответствующего новым требованиям»
                  </p>

                </a>
              </div>
              <div class="col">
                <a href="" rel="noopener noreferrer" class="new-on-site__card w-100">

                  <div class="new-on-site__img">
                    <img src="./img/new-on-site/img2.png" alt="">
                  </div>

                  <p class="new-on-site__text">
                    Внимание пользователей системы контроля кассового оборудования!
                  </p>

                </a>
              </div>
              <div class="col">
                <a href="" rel="noopener noreferrer" class="new-on-site__card w-100">

                  <div class="new-on-site__img">
                    <img src="./img/new-on-site/img3.png" alt="">
                  </div>

                  <p class="new-on-site__text">
                    Обновлена онлайн-школа О налогах и не толькодля ИП простыми словами
                  </p>

                </a>
              </div>
              <div class="col">
                <a href="" rel="noopener noreferrer" class="new-on-site__card w-100">

                  <div class="new-on-site__img">
                    <img src="./img/new-on-site/img3.png" alt="">
                  </div>

                  <p class="new-on-site__text">
                    Обновлена онлайн-школа О налогах и не толькодля ИП простыми словами
                  </p>

                </a>
              </div>
            </div>
          </div>
        </section>
        <!-- for SKKO users -->
        <section id="skko-users" class="mt-120">
          <h2 class="block-title">пользователям СККО</h2>
          <div class="row row-cols-1 row-cols-lg-2 row-gap-4 mt-32">
            <div class="col d-flex">
              <div class="bg-gray-base border-30 p-40-to-16">
                <p class="block-subtitle mb-0">Подключение и обслуживание</p>
                <div class="d-flex flex-column gap-3 mt-32">
                  <a href="" class="activity-block activity-block-lg bg-white">
                    <div class="activity-block-title activity-block-title-violet align-items-center">
                      <div class="d-flex flex-row gap-2 align-items-center">
                        <div class="activity-block-title__icon bg-violet">
                          <img src="./img/icons/diagram-2.svg" alt="">
                        </div>
                        <span class="activity-block-title__text">Алгоритм подключения кассового оборудования к СККО</span>
                      </div>
                    </div>
                  </a>
                  <a href="" class="activity-block activity-block-lg bg-white">
                    <div class="activity-block-title activity-block-title-violet align-items-center">
                      <div class="d-flex flex-row gap-2 align-items-center">
                        <div class="activity-block-title__icon bg-violet">
                          <img src="./img/icons/diagram-3.svg" alt="">
                        </div>
                        <span class="activity-block-title__text">Алгоритм подключения программной кассы к СККО</span>
                      </div>
                    </div>
                  </a>
                  <a href="" class="activity-block activity-block-lg bg-white">
                    <div class="activity-block-title activity-block-title-violet align-items-center">
                      <div class="d-flex flex-row gap-2 align-items-center">
                        <div class="activity-block-title__icon bg-taxes-gold">
                          <img src="./img/icons/check-circle.svg" alt="">
                        </div>
                        <span class="activity-block-title__text">Обновление сертификатов</span>
                      </div>
                    </div>
                  </a>
                  <a href="" class="activity-block activity-block-lg bg-white">
                    <div class="activity-block-title activity-block-title-violet align-items-center">
                      <div class="d-flex flex-row gap-2 align-items-center">
                        <div class="activity-block-title__icon bg-taxes-gold">
                          <img src="./img/icons/settings.svg" alt="">
                        </div>
                        <span class="activity-block-title__text">Информация для центров технического обслуживания и ремонта кассового оборудования (ЦТО)</span>
                      </div>
                    </div>
                  </a>

                </div>
              </div>
            </div>
            <div class="col d-flex">
              <div class="bg-violet-light border-30 p-40-to-16">
                <p class="block-subtitle mb-0">Операторы и субъекты СККО</p>
                <div class="d-flex flex-column gap-3 mt-32">
                  <a href="" class="activity-block activity-block-lg bg-white">
                    <div class="activity-block-title activity-block-title-violet align-items-center">
                      <div class="d-flex flex-row gap-2 align-items-center">
                        <div class="activity-block-title__icon bg-violet">
                          <img src="./img/icons/operator-pkc.svg" alt="">
                        </div>
                        <span class="activity-block-title__text">Информация для операторов программные кассовых систем</span>
                      </div>
                    </div>
                  </a>
                  <a href="" class="activity-block activity-block-lg bg-gray-base">
                    <div class="activity-block-title activity-block-title-violet align-items-center">
                      <div class="d-flex flex-row gap-2 align-items-center">
                        <div class="activity-block-title__icon bg-violet">
                          <img src="./img/icons/kassa.svg" alt="">
                        </div>
                        <span class="activity-block-title__text">Информация об операторах программных кассовых систем, программных кассовых системах и
                          программных
                          кассах</span>
                      </div>
                    </div>
                  </a>
                  <a href="" class="activity-block activity-block-lg bg-gray-base">
                    <div class="activity-block-title activity-block-title-violet align-items-center">
                      <div class="d-flex flex-row gap-2 align-items-center">
                        <div class="activity-block-title__icon bg-violet">
                          <img src="./img/icons/qr-code.svg" alt="">
                        </div>
                        <span class="activity-block-title__text">Информация для субъектов хозяйствования осуществляющих передачу данных в СККО о товарах,
                          подлежащих
                          маркировке</span>
                      </div>
                    </div>
                  </a>

                </div>
              </div>
            </div>
          </div>
          <div class="mt-4 bg-gray-base border-30 p-40-to-16">
            <p class="block-subtitle">Операторы и субъекты СККО</p>
            <div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 row-gap-4 mt-32">
              <div class="col d-flex">
                <a href="" class="activity-block activity-block-lg bg-white">
                  <div class="activity-block-title activity-block-title-violet align-items-center">
                    <div class="d-flex flex-row gap-2 align-items-center">
                      <div class="activity-block-title__icon bg-violet">
                        <img src="./img/icons/document-text.svg" alt="">
                      </div>
                      <span class="activity-block-title__text">публичная оферта и иные документы для пользователей СККО</span>
                    </div>
                  </div>
                </a>
              </div>
              <div class="col d-flex">
                <a href="" class="activity-block activity-block-lg bg-white">
                  <div class="activity-block-title activity-block-title-violet align-items-center">
                    <div class="d-flex flex-row gap-2 align-items-center">
                      <div class="activity-block-title__icon bg-violet">
                        <img src="./img/icons/prog-kassa.svg" alt="">
                      </div>
                      <span class="activity-block-title__text">Подключение ПК к СККО</span>
                    </div>
                  </div>
                </a>
              </div>
              <div class="col d-flex">
                <a href="" class="activity-block activity-block-lg bg-white">
                  <div class="activity-block-title activity-block-title-violet align-items-center">
                    <div class="d-flex flex-row gap-2 align-items-center">
                      <div class="activity-block-title__icon bg-violet">
                        <img src="./img/icons/reestr.svg" alt="">
                      </div>
                      <span class="activity-block-title__text">Государственный реестр кассовых суммирующих аппаратов и специальных компьютерных систем</span>
                    </div>
                  </div>
                </a>
              </div>
            </div>
          </div>

        </section>
        <!-- Services and payment -->
        <section id="payment" class="mt-120">
          <h2 class="block-title">Услуги и оплата</h2>
          <div class="row row-cols-1 row-cols-lg-2 row-gap-4 mt-32">
            <div class="col d-flex">
              <div class="d-flex flex-column gap-3">
                <a href="" class="activity-block activity-block-lg bg-gray-base">
                  <div class="activity-block-title activity-block-title-violet align-items-center">
                    <div class="d-flex flex-row gap-2 align-items-center">
                      <div class="activity-block-title__icon bg-violet">
                        <img src="./img/icons/banknotes.svg" alt="">
                      </div>
                      <span class="activity-block-title__text">обеспечительный платеж</span>
                    </div>
                  </div>
                </a>
                <a href="" class="activity-block activity-block-lg bg-gray-base">
                  <div class="activity-block-title activity-block-title-violet align-items-center">
                    <div class="d-flex flex-row gap-2 align-items-center">
                      <div class="activity-block-title__icon bg-violet">
                        <img src="./img/icons/prog-kassa.svg" alt="">
                      </div>
                      <span class="activity-block-title__text">регистрация ПК</span>
                    </div>
                  </div>
                </a>
                <a href="" class="activity-block activity-block-lg bg-gray-base">
                  <div class="activity-block-title activity-block-title-violet align-items-center">
                    <div class="d-flex flex-row gap-2 align-items-center">
                      <div class="activity-block-title__icon bg-violet">
                        <img src="./img/icons/settings.svg" alt="">
                      </div>
                      <span class="activity-block-title__text">Информационное обслуживание ПК</span>
                    </div>
                  </div>
                </a>
                <a href="" class="activity-block activity-block-lg bg-gray-base">
                  <div class="activity-block-title activity-block-title-violet align-items-center">
                    <div class="d-flex flex-row gap-2 align-items-center">
                      <div class="activity-block-title__icon bg-violet">
                        <img src="./img/icons/api.svg" alt="">
                      </div>
                      <span class="activity-block-title__text">Регистрация пользователя (API) в СККО</span>
                    </div>
                  </div>
                </a>
                <a href="" class="activity-block activity-block-lg bg-gray-base">
                  <div class="activity-block-title activity-block-title-violet align-items-center">
                    <div class="d-flex flex-row gap-2 align-items-center">
                      <div class="activity-block-title__icon bg-violet">
                        <img src="./img/icons/code-bracket-square.svg" alt="">
                      </div>
                      <span class="activity-block-title__text">Информационное обслуживание пользователя (API) в СККО</span>
                    </div>
                  </div>
                </a>

              </div>
            </div>
            <div class="col d-flex">
              <div class="bg-gray-base p-40-to-16 border-30 w-100">
                <ul class="nav nav-pills default-tabs mb-3" id="services-tabs" role="tablist">
                  <li class="nav-item" role="presentation">
                    <button class="active default-tab" id="account-details-tab" data-bs-toggle="pill" data-bs-target="#account-details" type="button" role="tab"
                      aria-controls="account-details" aria-selected="true">Реквизиты</button>
                  </li>
                  <li class="nav-item " role="presentation">
                    <a class="default-tab" href="https://github.com/InfoCenterBy/skko-redesign" target="_blank">Способы
                      оплаты</a>
                  </li>
                  <li class="nav-item " role="presentation">
                    <button class="default-tab" id="price-lists-tab" data-bs-toggle="pill" data-bs-target="#price-lists" type="button" role="tab"
                      aria-controls="price-lists" aria-selected="false">Прейскуранты</button>
                  </li>
                </ul>
                <div class="tab-content" id="services-tabContent">
                  <div class="tab-pane fade show active" id="account-details" role="tabpanel" aria-labelledby="account-details-tab" tabindex="0">
                    <div>
                      <p class="fs-20 ff-exo fw-semibold mb-3">Реквизиты Предприятия:</p>
                      <p class="fw-semibold mb-2">Полное наименование</p>
                      <p class="mb-3">Республиканское унитарное предприятие «Информационно-издательский центр по налогам и сборам»</p>
                      <p class="fw-semibold mb-2">Сокращенное наименование предприятия:</p>
                      <p class="mb-3">Государственное предприятие "Информационно-издательский центр по налогам и сборам"</p>
                      <p class="fw-semibold mb-2">Свидетельство о государственной регистрации:</p>
                      <p class="mb-3">Выдано решением №645 Минского городского исполнительного комитета 29 марта 2007 года.</p>
                      <p class="fw-semibold mb-2">УНП:</p>
                      <p class="mb-3">190819036</p>
                      <p class="fw-semibold mb-2">Юридический и почтовый адрес:</p>
                      <p class="mb-3 text-violet-dark">220005, г.Минск, пр. Машерова, 7-123</p>
                    </div>
                    <div class="mt-32">
                      <p class="fs-20 ff-exo fw-semibold mb-3">Банковские реквизиты:</p>
                      <p class="fw-semibold mb-2">Расчетный счет:</p>
                      <p class="mb-3">№ BY86 AKBB 3012 0000 0499 8000 0000</p>
                      <p class="fw-semibold mb-2">Наименование банка:</p>
                      <p class="mb-3">АСБ «Беларусбанк» ЦБУ №510, BIC банка AKBBBY2X</p>
                      <p class="fw-semibold mb-2">Адрес банка:</p>
                      <p class="mb-3">г. Минск, пр. Независимости, 56</p>
                    </div>
                  </div>
                  <div class="tab-pane fade" id="price-lists" role="tabpanel" aria-labelledby="price-lists-tab" tabindex="0">
                    <div class="d-flex flex-column gap-2">
                      <a class="link-activity" href="">Прейскурант на услуги, оказываемые пользователям кассовых аппаратов</a>
                      <a class="link-activity" href="">Прейскурант на услуги, оказываемые пользователям программных касс</a>
                      <a class="link-activity" href="">Залоговая стоимость средства контроля налоговых органов (СКНО)</a>
                      <a class="link-activity" href="">Прейскурант на услуги, оказываемые Оператору программной кассовой системы по регистрации подменной
                        программной кассы и информационному обслуживанию Оператора
                        программной кассовой системы</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
        <!-- Contacts -->
        <section id="contacts" class="mt-120">
          <h2 class="block-title">Контакты</h2>
          <div class="container mt-32">
            <script src="./js/vue.js"></script>
            <div id="app">
              <div class="row">
                <div class="col-lg-9 d-flex my-2 order-lg-1 order-2">
                  <div class="d-flex flex-row flex-lg-wrap gap-3 nav-radio overflow-auto flex-nowrap align-items-start" id="mapRegion">

                    <button class="default-tab" v-if="activeTab == 1">
                      <span>Все</span>
                    </button>
                    <template v-if="activeTab == 2">
                      <button class="default-tab" @click="filterTable('')" :class="[filteredTerms == '' ? 'nav-radio__elem-active' : '']">
                        <span>Все</span>
                      </button>
                      <button v-for="item in uniqueCities" class="default-tab nav-radio__elem nav-radio__elem-lg nav-radio__elem-empty"
                        @click="filterTable(item)" :class="[filteredTerms == item ? 'nav-radio__elem-active' : '']">
                        <span>{{item}}</span>
                      </button>

                    </template>
                  </div>
                </div>
                <div class="col-lg-3 d-flex justify-content-lg-end my-2 order-lg-2 order-1">
                  <div class="d-flex flex-row flex-lg-wrap gap-3 nav-radio flex-nowrap align-items-start justify-content-end">
                    <button class="default-tab" :class="[activeTab == 1 ? 'active' : '']" @click="changeTab(1)">
                      <span>На карте</span>
                    </button>
                    <button class="default-tab" :class="[activeTab == 2 ? 'active' : '']" @click="changeTab(2)" v-if="isLargeScreen">
                      <span>Таблица</span>
                    </button>
                  </div>
                </div>
              </div>
              <div v-if="activeTab == 1">
                <div class="map-cards-wrapper">
                  <div class="" id="mapCards">
                    <div class="map-cards">
                    </div>
                  </div>
                </div>
                <div id="contact_map" class="mt-3" style="width:100%; height:754px"></div>
              </div>
              <div v-if="activeTab == 2 && isLargeScreen">
                <table class="w-100 border-top-left-20 border-top-right-20 overflow-hidden ff-roboto mt-4">
                  <thead>
                    <tr class="bg-gray-base">
                      <td colspan="2" class="px-2 py-3">
                        <strong>Контакты</strong>
                      </td>
                      <td colspan="2" class="px-2 py-3">
                        <strong>Режим работы</strong>
                      </td>
                      <td colspan="3" class="px-2 py-3">
                        <strong>Статус</strong>
                      </td>
                      <td colspan="2" class="px-2 py-3">
                        <strong>Комментарий</strong>
                      </td>
                    </tr>
                  </thead>
                  <tbody>
                    <tr v-for="item in filteredTableItems" class="border-bottom">
                      <td colspan="2" class="px-2 py-3">
                        {{item.contacts?.adress}} ({{item.name}}) <br>
                        <span v-if="item.contacts.tel">тел:
                          {{item.contacts.tel}}</span>
                        <br>
                        <span v-if="item.contacts.fax">факс:
                          {{item.contacts.fax}}</span>
                        <br>
                        <span v-if="item.contacts.email">email:
                          {{item.contacts.email}}</span> <br>
                      </td>
                      <td colspan="2" class="px-2 py-3">
                        <span v-if="item.workTime != 0" v-html="item.workTime"></span>
                      </td>
                      <td colspan="3" class="px-2 py-3">
                        <div class="map-cards-item__status text-center"
                          :class="[item.status.active ? 'map-cards-item__status-active' : 'map-cards-item__status-disabled']">
                          <span class="text-wrap text-center">{{item.status.text}}</span>
                        </div>
                      </td>
                      <td colspan="3" class="px-2 py-3">
                        <span v-if="item.comment != 0" v-html="item.comment"></span>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

          </div>
        </section>
        <!-- Slider -->
        <section class="mt-120">
          <div class="d-flex flex-row align-items-center gap-2">
            <button class="swiper-button-prev-custom"></button>
            <div class="swiper slider-banner-sm">
              <div class="swiper-wrapper">
                <div class="swiper-slide overflow-hidden border-20">
                  <img src="./img/main-slider/slider-default-img.png" alt="">
                </div>
                <div class="swiper-slide overflow-hidden border-20">
                  <img src="./img/main-slider/slider-padatak.png" alt="">
                </div>
                <div class="swiper-slide overflow-hidden border-20">
                  <img src="./img/main-slider/slider-padatak-2.png" alt="">
                </div>
                <div class="swiper-slide overflow-hidden border-20">
                  <img src="./img/main-slider/slider-taxes.png" alt="">
                </div>
                <div class="swiper-slide overflow-hidden border-20">
                  <img src="./img/main-slider/slider-default-img.png" alt="">
                </div>
                <div class="swiper-slide overflow-hidden border-20">
                  <img src="./img/main-slider/slider-taxi.png" alt="">
                </div>
                <div class="swiper-slide overflow-hidden border-20">
                  <img src="./img/main-slider/slider-taxes.png" alt="">
                </div>
                <div class="swiper-slide overflow-hidden border-20">
                  <img src="./img/main-slider/slider-default-img.png" alt="">
                </div>
                <div class="swiper-slide overflow-hidden border-20">
                  <img src="./img/main-slider/slider-taxi.png" alt="">
                </div>
              </div>
            </div>
            <button class="swiper-button-next-custom"></button>
          </div>
        </section>
      </div>
    </main>
    <script src="./js/swiper-bundle.min.js"></script>
    <script src="./js/swiper-main-page.js"></script>

    @@include('./components/_footer.html')
    @@include('./components/_scripts.html')
  </div>
  <script>
    const { createApp, ref } = Vue

    createApp({
      data() {
        return {
          groups: [
            {
              name: "Минск",
              style: "islands#violetGovernmentIcon",
              items: [
                {
                  center: [53.91373, 27.574237],
                  // name: "Минск, проспект Машерова, 7"
                  name: "ИМНС по Центральному району",
                  contacts: {
                    adress: 'Минск, проспект Машерова, 7',
                    tel: '+375 (17) 269-19-19',
                    fax: '+375 (17) 269-19-43',
                    email: 'support@ca.info-center.by',
                  },
                  workTime: 'пн-чт: 8.45-18.00 <br> пт: 8.45-16.45 <br> перерыв: 13.00-14.00 <br> сб-вс: выходной',
                  status: {
                    active: true,
                    text: 'Функционирует согласно режиму работы'
                  },
                  comment: '<strong>Прием осуществляется по предварительной записи</strong>, телефон <a href="tel:+375(17)269-19-19" class="color-dark-violet">+375 17 269 19 19</a> <br>В свободное от предварительной записи время прием ведется посредством системы «Электронная очередь»'
                },
                {
                  center: [53.897191, 27.494987],
                  name: "ИМНС по Фрунзенскому району №2",
                  contacts: {
                    adress: 'г. Минск, пр-т Пушкина, д. 11, к. 111',
                    tel: '+375 (17) 269-19-19',
                    fax: '+375 (17) 323-25-94',
                    email: 0
                  },
                  workTime: 0,
                  status: {
                    active: true,
                    text: 'Функционирует согласно режиму работы'
                  },
                  comment: 0
                },
              ]
            },
            {
              name: "Минская область",
              style: "islands#violetGovernmentIcon",
              items: [
                {
                  center: [53.02264, 27.558256],
                  // name: "Минск, проспект Машерова, 7"
                  name: "г. Слуцк, ул. Лацкова, д. 2, 223609",
                  contacts: {
                    adress: 'г. Слуцк, ул. Лацкова, д. 2',
                    tel: '+375(17) 952 49 92',
                    fax: 0,
                    email: 0,
                  },
                  workTime: 0,
                  status: {
                    active: true,
                    text: 'Функционирует согласно режиму работы'
                  },
                  comment: 0
                },
                {
                  center: [53.02264, 28.558256],
                  // name: "Минск, проспекулт Машерова, 7"
                  name: "г.sdfsdf23609",
                  contacts: {
                    adress: 'г. Слуцк, ул. Лацкова, д. 2',
                    tel: '+375(17) 952 49 92',
                    fax: 0,
                    email: 0,
                  },
                  workTime: 0,
                  status: {
                    active: false,
                    text: 'Функционирует согласно режиму работы'
                  },
                  comment: 0
                },
              ]
            },
            {
              name: "Брестская область",
              style: "islands#violetGovernmentIcon",
              items: [
                {
                  center: [53.02264, 27.558256],
                  // name: "Минск, проспект Машерова, 7"
                  name: "г. Слуцк, ул. Лацкова, д. 2, 223609",
                  contacts: {
                    adress: 'г. Слуцк, ул. Лацкова, д. 2',
                    tel: '+375(17) 952 49 92',
                    fax: 0,
                    email: 0,
                  },
                  workTime: 0,
                  status: {
                    active: true,
                    text: 'Функционирует согласно режиму работы'
                  },
                  comment: 0
                },
                {
                  center: [53.02264, 28.558256],
                  // name: "Минск, проспекулт Машерова, 7"
                  name: "г.sdfsdf23609",
                  contacts: {
                    adress: 'г. Слуцк, ул. Лацкова, д. 2',
                    tel: '+375(17) 952 49 92',
                    fax: 0,
                    email: 0,
                  },
                  workTime: 0,
                  status: {
                    active: false,
                    text: 'Функционирует согласно режиму работы'
                  },
                  comment: 0
                },
              ]
            },
            {
              name: "Витебская область",
              style: "islands#violetGovernmentIcon",
              items: [
                {
                  center: [53.02264, 27.558256],
                  // name: "Минск, проспект Машерова, 7"
                  name: "г. Слуцк, ул. Лацкова, д. 2, 223609",
                  contacts: {
                    adress: 'г. Слуцк, ул. Лацкова, д. 2',
                    tel: '+375(17) 952 49 92',
                    fax: 0,
                    email: 0,
                  },
                  workTime: 0,
                  status: {
                    active: true,
                    text: 'Функционирует согласно режиму работы'
                  },
                  comment: 0
                },
                {
                  center: [53.02264, 28.558256],
                  // name: "Минск, проспекулт Машерова, 7"
                  name: "г.sdfsdf23609",
                  contacts: {
                    adress: 'г. Слуцк, ул. Лацкова, д. 2',
                    tel: '+375(17) 952 49 92',
                    fax: 0,
                    email: 0,
                  },
                  workTime: 0,
                  status: {
                    active: false,
                    text: 'Функционирует согласно режиму работы'
                  },
                  comment: 0
                },
              ]
            },
            {
              name: "Гомельская область",
              style: "islands#violetGovernmentIcon",
              items: [
                {
                  center: [53.02264, 27.558256],
                  // name: "Минск, проспект Машерова, 7"
                  name: "г. Слуцк, ул. Лацкова, д. 2, 223609",
                  contacts: {
                    adress: 'г. Слуцк, ул. Лацкова, д. 2',
                    tel: '+375(17) 952 49 92',
                    fax: 0,
                    email: 0,
                  },
                  workTime: 0,
                  status: {
                    active: true,
                    text: 'Функционирует согласно режиму работы'
                  },
                  comment: 0
                },
                {
                  center: [53.02264, 28.558256],
                  // name: "Минск, проспекулт Машерова, 7"
                  name: "г.sdfsdf23609",
                  contacts: {
                    adress: 'г. Слуцк, ул. Лацкова, д. 2',
                    tel: '+375(17) 952 49 92',
                    fax: 0,
                    email: 0,
                  },
                  workTime: 0,
                  status: {
                    active: false,
                    text: 'Функционирует согласно режиму работы'
                  },
                  comment: 0
                },
              ]
            },
            {
              name: "Гродненская область",
              style: "islands#violetGovernmentIcon",
              items: [
                {
                  center: [53.02264, 27.558256],
                  // name: "Минск, проспект Машерова, 7"
                  name: "г. Слуцк, ул. Лацкова, д. 2, 223609",
                  contacts: {
                    adress: 'г. Слуцк, ул. Лацкова, д. 2',
                    tel: '+375(17) 952 49 92',
                    fax: 0,
                    email: 0,
                  },
                  workTime: 0,
                  status: {
                    active: true,
                    text: 'Функционирует согласно режиму работы'
                  },
                  comment: 0
                },
                {
                  center: [53.02264, 28.558256],
                  // name: "Минск, проспекулт Машерова, 7"
                  name: "г.sdfsdf23609",
                  contacts: {
                    adress: 'г. Слуцк, ул. Лацкова, д. 2',
                    tel: '+375(17) 952 49 92',
                    fax: 0,
                    email: 0,
                  },
                  workTime: 0,
                  status: {
                    active: false,
                    text: 'Функционирует согласно режиму работы'
                  },
                  comment: 0
                },
              ]
            },
            {
              name: "Могилевская область",
              style: "islands#violetGovernmentIcon",
              items: [
                {
                  center: [53.02264, 27.558256],
                  // name: "Минск, проспект Машерова, 7"
                  name: "г. Слуцк, ул. Лацкова, д. 2, 223609",
                  contacts: {
                    adress: 'г. Слуцк, ул. Лацкова, д. 2',
                    tel: '+375(17) 952 49 92',
                    fax: 0,
                    email: 0,
                  },
                  workTime: 0,
                  status: {
                    active: true,
                    text: 'Функционирует согласно режиму работы'
                  },
                  comment: 0
                },
                {
                  center: [53.02264, 28.558256],
                  // name: "Минск, проспекулт Машерова, 7"
                  name: "г.sdfsdf23609",
                  contacts: {
                    adress: 'г. Слуцк, ул. Лацкова, д. 2',
                    tel: '+375(17) 952 49 92',
                    fax: 0,
                    email: 0,
                  },
                  workTime: 0,
                  status: {
                    active: false,
                    text: 'Функционирует согласно режиму работы'
                  },
                  comment: 0
                },
              ]
            },
          ],
          cityList: [],
          activeTab: 1,
          filteredTableItems: [],
          filteredTerms: '',
          isLargeScreen: window.innerWidth > 1090
        }
      },
      computed: {
        uniqueCities() {
          const citySet = new Set()

          this.groups.forEach(el => {
            if (el.name) {
              citySet.add(el.name)
            }
          });

          return Array.from(citySet)
          // console.log(this.cityList)
        },

      },
      methods: {
        init() {
          // Создание экземпляра карты.
          var myMap = new ymaps.Map('contact_map', {
            center: [53.902735, 27.555696],
            zoom: 12,
            // controls: ['zoomControl', 'typeSelector', 'fullscreenControl', 'routeButtonControl']
            controls: ['zoomControl', 'routeButtonControl']
          }),
            // Контейнер для меню.
            menu = $('#app .nav-radio#mapRegion')
          menuCards = $('#app .map-cards')

          for (var i = 0, l = this.groups.length; i < l; i++) {
            createMenuGroup(this.groups[i])
          }

          function createMenuGroup(group) {
            // Пункт меню.
            document.querySelector('#app #mapRegion .nav-radio__elem-all').classList.add('nav-radio__elem-active')

            var menuItem = $('<div class="default-tab nav-radio__elem nav-radio__elem-lg nav-radio__elem-empty"><span>' + group.name + '</span></div>'),
              // Коллекция для геообъектов группы.
              collection = new ymaps.GeoObjectCollection(null, { preset: group.style }),
              // Контейнер для подменю.
              submenu = $('<div class="map-cards-submenu"></div>')

            // Добавляем пункт меню.
            menuItem.appendTo(menu)

            // Добавляем подменю.
            submenu.appendTo(menuCards)

            // Создаем подменю для группы.
            for (var j = 0, m = group.items.length; j < m; j++) {
              createSubMenu(group.items[j], collection, submenu)
            }

            // При старте: все geoObjects добавляются, submenu показываются.
            myMap.geoObjects.add(collection)
            submenu.show()

            // Обработчик клика.
            menuItem.on('click', function () {
              // Убираем active-класс у всех элементов, скрываем их подменю и удаляем их geoObjects.
              $('#mapRegion .nav-radio__elem').removeClass('nav-radio__elem-active')
              $('.map-cards-submenu').hide()
              myMap.geoObjects.removeAll()

              // Назначаем active-класс текущему элементу.
              $(this).addClass('nav-radio__elem-active')

              // Добавляем geoObjects и показываем подменю.
              myMap.geoObjects.add(collection)
              submenu.show()
            });

            $('#app #mapRegion .nav-radio__elem-all').on('click', () => {
              $('#mapRegion .nav-radio__elem').removeClass('nav-radio__elem-active')
              $('#app .nav-radio__elem-all.nav-radio__elem').addClass('nav-radio__elem-active')
              myMap.geoObjects.add(collection)
              submenu.show()
            })

          }

          function createSubMenu(item, collection, submenu) {
            // Пункт подменю.
            // ${item.workTime }
            var submenuItem = $(`
                    <div class="map-cards-item">
                              <div>
                                  <strong class="d-block map-cards-item__title">
                                        ${item.contacts?.adress} (${item.name})
                                  </strong>
                              </div>
                              <div class="d-flex flex-column gap-2">
                                  <div class=" d-flex flex-row flex-lg-nowrap flex-wrap align-items-center gap-1 mt-12">
                                        <strong>Статус</strong>
                                        <div class="map-cards-item__status ${item.status.active ? "map-cards-item__status-active" : "map-cards-item__status-disabled"}">
                                            <span>${item.status?.text || "Не указан"}</span>
                                        </div>
                                  </div>
                                  <div class="row">
                                        <div class="col-lg-6 d-flex flex-column">
                                            <strong>Режим работы</strong>
                                            <p>${item?.workTime || "Не указан"}</p>
                                        </div>
                                        <div class="col-lg-6 d-flex flex-column gap-2">
                                            <strong>Контакты</strong>
                                            <span>тел: ${item.contacts?.tel || "Не указан"}</span>
                                            <span>факс: ${item.contacts?.fax || "Не указан"}</span>
                                            <span>электронная почта: <br> <span class="color-dark-violet">${item.contacts?.email || "Не указана"}</span></span>
                                        </div>
                                  </div>
                                  <div>
                                        ${item?.comment || ""}
                                  </div>
                              </div>
                        </div>
                        `),
              // Создаем метку.
              placemark = new ymaps.Placemark(item.center, { balloonContent: item.name })

            // Добавляем метку в коллекцию.
            collection.add(placemark)
            // Добавляем пункт в подменю.
            submenuItem
              .appendTo(submenu)
              // При клике по пункту подменю открываем/закрываем баллун у метки.
              .find('div')
              .bind('click', function () {
                if (!placemark.balloon.isOpen()) {
                  placemark.balloon.open()
                } else {
                  placemark.balloon.close()
                }
                return false
              });
          }

          // Добавляем меню в тэг BODY.
          menu.appendTo($('body #mapRegion'));
          menuCards.appendTo($('body #mapCards'));
          // Выставляем масштаб карты чтобы были видны все группы.
          // myMap.setBounds(myMap.geoObjects.getBounds());
        },
        changeTab(number) {
          this.activeTab = number
          this.deleteOldNav()
          if (number == 1) {
            ymaps.ready(this.init)
          }
          if (number == 2) {
            this.filterTable('')
          }
        },
        deleteOldNav() {
          const nameList = document.querySelectorAll('#app #mapRegion .nav-radio__elem:not(:first-child)')
          nameList.forEach(element => {
            element.remove()
          })
        },
        filterTable(name) {
          if (name != '') {
            this.filteredTerms = name
            // Находим группу с соответствующим именем
            const group = this.groups.find(group => group.name === name)
            // Если группа найдена, возвращаем её items, иначе пустой массив
            return group ? this.filteredTableItems = group.items : this.filteredTableItems = []
          } else {
            this.filteredTerms = ''
            // Если name не указан, возвращаем все items из всех групп
            return this.filteredTableItems = this.groups.reduce((acc, group) => acc.concat(group.items), [])
          }
        },
        handleResize() {
          this.isLargeScreen = window.innerWidth > 1090
        }
        // filterTable(name){}
      },
      created() {
        window.addEventListener('resize', this.handleResize)
      },
      mounted() {
        ymaps.ready(this.init)
      }
    }).mount('#app')
  </script>
</body>

</html>