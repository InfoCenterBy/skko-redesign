document.addEventListener("DOMContentLoaded",function(){const allSiteCheckbox=document.getElementById("all-site"),otherCheckboxes=document.querySelector(".search-sections").querySelectorAll(".form-check-input:not(#all-site)");function updateCheckboxesState(){const isChecked=allSiteCheckbox.checked;otherCheckboxes.forEach(checkbox=>{checkbox.disabled=isChecked,isChecked&&(checkbox.checked=!1)})}updateCheckboxesState(),allSiteCheckbox.addEventListener("change",updateCheckboxesState),otherCheckboxes.forEach(checkbox=>{checkbox.addEventListener("change",function(){this.checked&&(allSiteCheckbox.checked=!1,updateCheckboxesState())})}),document.querySelector("#search-options").addEventListener("submit",function(e){e.preventDefault();const params={},sortValue=document.querySelector('input[name="sort"]:checked').id;params.sort=sortValue;const sections=[],allSiteCheckbox=document.getElementById("all-site");document.querySelectorAll('.search-sections input[type="checkbox"]:not(#all-site)').forEach(checkbox=>{checkbox.checked&&sections.push(checkbox.id)}),sections.length>0&&allSiteCheckbox.checked&&(allSiteCheckbox.checked=!1),sections.length>0&&(params.sections=sections.join(","));const periodValue=document.querySelector('input[name="period"]:checked').id;if(params.period=periodValue,"custom-period"===periodValue){const dateFrom=document.getElementById("inputDateForm1").value,dateTo=document.getElementById("inputDateForm2").value;dateFrom&&(params.date_from=dateFrom),dateTo&&(params.date_to=dateTo)}const baseUrl=window.location.pathname,queryString=new URLSearchParams(params).toString(),newUrl=baseUrl+(queryString?"?"+queryString:"");window.location.href=newUrl});const dateFields=document.querySelector(".date-inputs");document.querySelectorAll('input[name="period"]').forEach(radio=>{radio.addEventListener("change",function(){"custom-period"===this.id?dateFields.style.display="flex":dateFields.style.display="none"})});const customPeriodSelected=document.getElementById("custom-period").checked;dateFields.style.display=customPeriodSelected?"flex":"none"});